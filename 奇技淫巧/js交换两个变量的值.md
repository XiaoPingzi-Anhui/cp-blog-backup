<!-- category: "奇技淫巧"
labels: "javaScript,es6"
createdAt: 2022-08-17T08:28:51.107+00:00 -->
交换两个变量的值你知道有哪些方法可以实现吗？
## 1. 使用临时变量
```typescript
let a = { a: "a" },b = { b: "b" };
let temp = a;
a = b;
b = temp;
```
我记得教科书上就是这么教的，就是麻烦且low了点。
## 2. es6的解构赋值
```typescript
[a, b] = [b, a];
```
嗯，高大上，简洁，工作中绝对推荐这种方式
## 3. 用对象或者数组缓存
```typescript
/* 对象 */
a = { a : b, b : a};
b = a.b;
a = a.a;

/* 数组 */
a = [a, b];
b = a[0];
a = a[1];
```
不管是用对象还是数组缓存，思想还是没变。

以上三种方法还称不上离奇技淫巧，思路比较清楚，容易懂，各位请注意，我要放大招了，下面的方法工作中别轻易用，不然被人打我不负责！
## 4. 数字时用+-运算
```typescript
let a = 1, b = 2;
/* + */
a += b;
b = a - b;
a -= b;

/* 数组 */
a -= b;
b += a;
a = b - a;
```
这方法转两个弯子还是能理解的，其实不使用临时变量的思路都是让其中一个变量变成一个a和b都有关系的值，这样可以先改变另一个变量值， 最后改变原修改的变量值
## 5. 整数时用位运算
```typescript
a ^= b;
b ^= a;
a ^= b;
```
工作中很少接触到位运算，可能有些人还不知道这个是干吗的，这里不做解释，详情请看[MDN](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Bitwise_XOR_assignment)。其实思想和上面的+-运算是一样的，只是运算方法不一样而已。但是不要用该方法处理浮点数！！！。感兴趣的可以去看看浮点数在计算机中到底怎么表示的。

到这了，有的聪明的小伙伴就会想到了，+—，^都可以，那*/和~可不可以呢？当然可以了，感兴趣的可以想想怎么实现，以及他们的问题在哪。
## 6. 数组赋值
```typescript
a = [b,b=a][0];
```
这方法算的上真正的奇技淫巧，和方法3里的数组思想类似，但逼格高了好几层！根据运算符优先级，首先执行b=a，此时的b直接得到了a的变量值，然后一步数组索引让a得到了b的值。
## 7. 立即执行函数
```typescript
a = ((b) => b)(b, (b = a));
```
同样是一行搞定，但是这样写对身体不好，因为你的每个同事可能都想来踹你一脚。这个和方法6类似，只是把创建数组和赋值改成了立即执行函数和return。